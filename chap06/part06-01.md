# 模块

如果你退出 python 的解释器然后重新进入的话，你之前定义的函数和变量都会丢失。因此，如果你想写一个有点长的程序，你最好事先准备一个文本编辑器，然后在解释器直接运行这个文件。这是就是所谓的创建 *脚本*。随着你的程序变得更长，你也许要把它分割成若干的文件，这样维护起来更方便。你也可以用一个你已经在若干程序中写好的随时可用的函数，而不用把这个函数的定义复制到每一个程序中。

Python 有一种把函数定义在一个文件的方法，你可以在脚本中，或者在解释器的交互实例中使用这个文件。这样的一个文件就叫做 *模块*。在一个模块中的定义可以 *导出* 到其他的模块中，或者 *main* 模块中 (一个变量的集合，你可以在脚本中得到这些变量，这些脚本在计算器模式下高层次被执行)。

一个模块文件包含了 Python 的定义和声明。文件名就是模块名加上 `.py` 后缀。在一个模块中，模块的名字 (作为字符串) 可以作为全局变量 `__name__`而得到。 在当前目录下， 用下面的内容创建一个名为 `fibo.py` 的文件：

```python
# Fibonacci numbers module

def fib(n):    # write Fibonacci series up to n
    a, b = 0, 1
    while b < n:
        print(b, end=' ')
        a, b = b, a+b
    print()

def fib2(n):   # return Fibonacci series up to n
    result = []
    a, b = 0, 1
    while b < n:
        result.append(b)
        a, b = b, a+b
    return result
```

现在进入 Python 解释器然后使用下面的命令导入这个模块：

```python
>>> import fibo
```

在当前的符号表中，不用直接输入在 `fibo` 中定义的函数名字。它仅仅在里面输入了模块名 `fibo`。使用模块名你就可以使用这些函数了：

```python
>>> fibo.fib(1000)
1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987
>>> fibo.fib2(100)
[1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]
>>> fibo.__name__
'fibo'
```

如果你经常使用一个函数，你可以把这个函数赋值给一个本地的变量名：

```python
>>> fib = fibo.fib
>>> fib(500)
1 1 2 3 5 8 13 21 34 55 89 144 233 377
```